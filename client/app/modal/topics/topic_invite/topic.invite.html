<page-tracker page="topic/invite" title="Invite Members To Topic"></page-tracker>
<!-- Modal: Invite to Channel/Group -->
<div class="modal-header">
  <button type="button" class="close" ng-click="cancel(); clear();"><i class="icon-delete"></i></button>
  <h3 class="modal-header__title">
    <span translate>@modal-invite-members</span>
  </h3>
</div>
<div class="modal-container invite-channel non-selectable">
  <div class="invite-channel-full" ng-if="!isInviteChannel">
    <div class="modal-body form-invite-body cursor_pointer"  ng-click="onInviteTeamClick();">
      <div class="image help-invite-members"></div>
      <div class="invite-members-desc">
        <span ng-bind-html="inviteTeamMsg1"></span>
        <span ng-bind-html="inviteTeamMsg2"></span>
      </div>
    </div>

    <div class="modal-footer">
      <input class="btn btn-ok" type="button" id="private_invite" value="{{ '@btn-invite' | translate }}" ng-click="onInviteTeamClick();" />
    </div>
  </div>

  <div class="invite-channel-extra" ng-if="isInviteChannel">
    <div class="modal-body form-invite-body">
      <!--    LIST OF USERS WHO WILL BE INVITED WHEN BUTTON IS CLICKED    -->
      <div class="form-invite-body__selected">
        <span class="cursor_pointer"
              ng-repeat="user in inviteUsers"
              ng-click="onMemberClick(user, false);">
          <span class="form-invite-body__selected-user btn-ok">
            {{ user | getName }} <span class="fa fa-times"></span>
          </span>
        </span>
      </div>

      <div class="input-group custom-typeahead form-invite-body__list">
        <span class="input-group-addon"><i class="icon-search"></i></span>
        <input class="form-control green-input-box"
               id="invite-member-filter"
               jnd-input-model="selectedUser"
               type="text"
               placeholder="{{'@input-search-user-name' | translate}}" />
      </div>

      <member-list ng-show="selectingMembers.length !== 0"
                   selector="#invite-member-filter"
                   list="selectingMembers"
                   model="selectedUser"
                   repeat="member in selectingMembers = (availableMemberList | filter : { selected : false } | userByName: selectedUser | orderBy: ['!isStarred', 'name'])"
                   on-select="onMemberClick">
      </member-list>
      <div class="no-result-container" ng-show="selectingMembers.length === 0">
        <span translate>@alert-no-result</span>
      </div>
      <div class="select-all-container checkbox">
        <label><input type="checkbox" ng-model="hasAllMembers" ng-click="onSelectAll(hasAllMembers)"/><span translate>@select-all-members</span></label>
      </div>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-cancel" ng-click="cancel(); clear();"><span translate>@btn-close</span></button>
      <input class="btn btn-ok send-invite" ng-class="{'disabled': inviteUsers.length === 0}" type="button" id="private_invite" value="{{ '@btn-invite' | translate }}" ng-click="onInviteClick(currentEntity.type);"/>
    </div>
  </div>
</div>
<jnd-loading></jnd-loading>
