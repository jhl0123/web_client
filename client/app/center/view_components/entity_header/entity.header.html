<div ng-if="isConnected" class="panel-title-container non-selectable"
     ng-class="{'center-panel-disabled-member': isDisabledEntity}">
  <!--    STAR ICON -->
  <span class="prefix star" ng-click="onStarClick();">
    <i class="icon-star-off" ng-class="{'icon-star-on starred-on' : currentEntity.isStarred}"></i>
  </span>

  <!--    PREFIX ICON -->
  <span class="prefix" ng-click="onPrefixIconClicked();">
    <i ng-if="currentEntity.type === 'channels'" class="icon-topic"></i>
    <i ng-if="currentEntity.type === 'privategroups'" class="icon-lock"></i>
    <i ng-if="currentEntity.type === 'users'" class="icon-user"></i>
  </span>

  <!--    TITLE   -->
  <span class="panel-title-info panel-title-info-name-container ng-binding dropdown-toggle header-padding-for-prefix"
        ng-click="onEntityTitleClicked();">
    <span class="inline-overflow-ellipsis panel-title-info__name">
      {{currentEntity | getName}}
    </span>
  </span>

  <!--  DESCRIPTION -->
  <span class="panel-title-topic-description cursor_pointer" ng-if="!isUserType">
     <i class="icon-info-fill" topic-description></i>
  </span>

  <!-- MORE OPTIONS -->
  <span class="panel-title-right-menu pull-right cursor_pointer panel-title-right-menu__more panel-title-right-menu__item" dropdown>
    <div class="panel-title-right-menu__more_icon" dropdown-toggle
      tooltip="{{::'@file-action-more' | translate}}" tooltip-placement="bottom"
      tooltip-class="panel-title-more-tooltip absolute-right-tooltip">
      <i class="icon-more"></i>
    </div>

    <!--  TOPICS  -->
    <ul class="dropdown-menu grey_dropdown header-title-info__dropdown" role="menu" ng-if="!isUserType">
      <!--    INVITE  -->
      <li role="presentation" ng-if="!isDefaultTopic">
        <a role="menuitem" tabindex="-1" ng-click="openInviteModal();">
          <i class="icon-user-plus"></i><span translate>@ch-menu-invite</span>
        </a>
      </li>

      <!--    STAR    -->
      <li role="presentation" ng-click="onStarClick();">
        <a role="menuitem" tabindex="-1">
          <i ng-if="currentEntity.isStarred" class="icon-star-on"></i><span ng-if="currentEntity.isStarred" translate>@ch-menu-un-star</span>
          <i ng-if="!currentEntity.isStarred" class="icon-star-off"></i><span ng-if="!currentEntity.isStarred" translate>@ch-menu-star</span>
        </a>
      </li>

      <!--    RENAME  -->
      <li role="presentation" ng-if="isOwner || isAdmin" ng-click="openRenameModal(this);">
        <a role="menuitem" tabindex="-1">
          <i class="icon-pencil"></i><span translate>@edit-topic-information</span>
        </a>
      </li>

      <!--    LEAVE   -->
      <li role="presentation" ng-click="onLeaveClicked();" ng-if="!isDefaultTopic;">
        <a role="menuitem" tabindex="-1">
          <i class="icon-sign-out"></i><span translate>@ch-menu-leave</span>
        </a>
      </li>

      <!--    DELETE  -->
      <li role="presentation" ng-if="(isOwner || isAdmin) && !isDefaultTopic" ng-click="onDeleteClicked();">
        <a role="menuitem" tabindex="-1">
          <i class="icon-trash"></i><span translate>@ch-menu-delete</span>
        </a>
        <span ng-if="false" translate>@ch-menu-delete-confirm</span>
      </li>
    </ul>

    <!--User-->
    <ul class="dropdown-menu grey_dropdown header-title-info__dropdown" ng-if="isUserType">
      <!--    INVITE  -->
      <li role="presentation" ng-if="!isDisabledEntity">
        <a role="menuitem" tabindex="-1" ng-click="inviteUserToChannel(this);">
          <i class="icon-user-plus"></i><span translate>@dm-menu-invite</span>
        </a>
      </li>

      <!--    STAR    -->
      <li role="presentation" ng-click="onStarClick()" ng-if="!isDisabledEntity">
        <a role="menuitem" tabindex="-1">
          <i ng-if="currentEntity.isStarred" class="icon-star-on"></i><span ng-if="currentEntity.isStarred" translate>@user-menu-un-star</span>
          <i ng-if="!currentEntity.isStarred" class="icon-star-off"></i><span ng-if="!currentEntity.isStarred" translate>@user-menu-star</span>
        </a>
      </li>

      <!--    VIEW USER PROFILE   -->
      <li role="presentation">
        <a role="menuitem" tabindex="-1" ng-click="openMemberModal();">
          <i class="icon-user"></i><span translate>@dm-menu-profile</span>
        </a>
      </li>

      <!--    VIEW USER FILE LIST -->
      <li role="presentation">
        <a role="menuitem" tabindex="-1" ng-click="onFileListClick(currentEntity.id);">
          <i class="icon-file"></i><span translate>@dm-menu-file</span>
        </a>
      </li>

      <!--    LEAVE CHAT -->
      <li role="presentation">
        <a role="menuitem" tabindex="-1" ng-click="onCurrentChatLeave();">
          <i class="icon-sign-out"></i><span translate>@common-conversation-leave</span>
        </a>
      </li>
    </ul>
  </span>

  <!-- RIGHT MENU -->
  <span class="panel-title-right-menu pull-right cursor_pointer" ng-if="!isUserType">

    <!--  JOINED MEMBER LIST  -->
    <span class="panel-title-member panel-title-right-menu__item pull-left" dropdown
          tooltip="{{::'@topic-joined-member' | translate}}" tooltip-placement="bottom">
      <div class="dropdown-toggle panel-title-member__more" dropdown-toggle>
        <i class="icon icon-user-fill"></i>
        <span class="panel-title-member__count">{{currentEntity.members.length}}</span>
        <i class="icon icon-down"></i>
      </div>

      <ul class="dropdown-menu grey_dropdown header-title-member__dropdown" role="menu">
        <li role="presentation" tabindex="-1" ng-repeat="userId in currentEntity.members track by $index">
          <a ng-click="openMemberModal(userId);">
            <img class="header-title-member__dropdown__thumb" ng-src="{{userId | getSmallThumbnail}}"/>
              <span class="overflow-ellipsis">{{userId | getName}}</span>
          </a>
        </li>
      </ul>
    </span>

    <span class="panel-title-right-menu__separator"></span>

    <!--  INVITE OPTION -->
    <span class="panel-title-invite panel-title-right-menu__item icon-user-plus pull-right cursor_pointer"
          tooltip="{{::'@ch-menu-invite' | translate}}"
          tooltip-placement="bottom" tooltip-append-to-body="false"
          tooltip-class="panel-title-invite-tooltip absolute-right-tooltip"
          ng-click="openInviteModal();">
    </span>

  </span>

  <!-- TOPIC NOTIFICATION INDICATOR -->
  <span class="panel-title-right-menu pull-right cursor_pointer panel-title-right-menu__item panel-title-right-menu__notification_bell" ng-if="!isUserType">
    <div class="panel-title-right-menu__more_icon" ng-click="onTopicNotificationBellClicked();"
      tooltip="{{topicNotificationBellTooltipMsg}}" tooltip-placement="bottom"
      tooltip-class="panel-title-bell-tooltip">
      <i class="" ng-class="{'icon-bell': isTopicNotificationOn, 'icon-bell-slash': !isTopicNotificationOn}"></i>
    </div>
  </span>

  <span class="disabled-member-notice-msg pull-right inline-overflow-ellipsis" ng-if="isDisabledMember(currentEntity);">
    <img src="assets/images/icon-disabled-members-alert.png"/>
    <span translate>@common-disabled-member-notice-msg-short</span>
  </span>
</div>

<div ng-if='!isConnected' class="panel-title-container non-selectable center-panel-disabled-member">
  <span class="disabled-member-notice-msg inline-overflow-ellipsis">
    <img src="assets/images/icon-disabled-members-alert.png"/>
    <span translate>@common-connection-retry</span>
  </span>
</div>
<span ng-if="false" translate>@no-topic-description</span>
<span ng-if="false" translate>@turn-off-topic-alarm</span>
<span ng-if="false" translate>@turn-on-topic-alarm</span>
<span ng-if="false" translate>@topic-joined-member</span>
