<aside class="lpanel">

    <!-- TEAM CONTAINER  -->
    <div class="lpanel-team" >
        <span class="lpanel-team__name overflow-ellipsis right_padding dropdown-toggle">
            {{ team.name }}
        </span>
    </div>

    <!-- LIST CONTAINER -->
    <div class="lpanel-list">

        <!-- STARRED CONTAINER  -->
        <div class="lpanel-list__stars" ng-show="entities.stars.length">
            <h2 id="starred_section_header" class="overflow-ellipsis"><span class="glyphicon glyphicon-star"></span> Starred</h2>
        </div>

        <!-- CHANNEL -->
        <div class="lpanel-list__channels">
            <h2 id="channels_header" class="cursor_pointer overflow-ellipsis " ng-click="openModal('join');">
                <span translate>Channels</span>
                <span class="lpanel-entity_more icon_add_member"></span>
            </h2>
            <ul id="channel-list">
                <li class="channel unread" ng-repeat="joinedChannel in joinedChannelList" ng-class="{active: $state.params.entityId == joinedChannel.id}">
                    <a ui-sref="archives({entityType:'channels',entityId:joinedChannel.id})" class="channel_name" data-channel-id="{{joinedChannel.id}}">
                        <span class="unread_just_C02BS7UB9 unread_just hidden">0</span>
                        <span class="unread_highlight_C02BS7UB9 unread_highlight hidden">0</span>
                        <span class="inline-overflow-ellipsis left-panel__name">
                            <span class="prefix">#</span> {{joinedChannel.name}}
                        </span>
                        <span class="badge left-panel_badge green_badge pull-right">{{joinedChannel.alarmCnt}}</span>
                    </a>
                </li>
            </ul>
            <div class="clear-both"></div>
            <a class="channel-list-more lpanel-list__more">
                <div ng-switch="channelsLeft">
                    <span ng-switch-when="0"ng-click="openModal('channel');">
                        <span translate>Create channel</span>
                    </span>
                    <span ng-switch-default ng-click="openModal('join');">
                        {{channelsLeft}} <span translate>more...</span>
                    </span>
                </div>
            </a>
        </div>

        <!-- PRIVATE GROUPS -->
        <div class="lpanel-list__groups">
            <h2 id="groups_header" class="hoverable overflow-ellipsis entity_header" ng-click="openModal('private')">
                <span translate>Private Groups</span>
                <span class="lpanel-entity_more icon_image icon_add_member"></span>
            </h2>
            <ul id="group-list">
                <li class="group cursor_pointer" ng-repeat="group in privateGroupList" ng-class="{active: $state.params.entityId == group.id}">
                    <a ui-sref="archives({entityType:'privateGroups',entityId:group.id})" class="channel_name" data-group-id="{{group.id}}">
                        <!--<i class="fa fa-times-circle group_close"></i>-->
                        <span class="unread_just_G02B6SM55 unread_just hidden"> 0 </span>
                        <span class="unread_highlight_G02B6SM55 unread_highlight hidden">0</span>
                        <span class="inline-overflow-ellipsis" data-ng-bind="group.name"></span>
                        <span class="badge left-panel_badge green_badge pull-right">{{group.alarmCnt}}</span>

                    </a>
                </li>
            </ul>
            <div class="clear-both"></div>
            <span id="group_list_more" class="lpanel-list__more cursor_pointer" ng-click="openModal('private')">
                <span translate>Create private group</span>
            </span>
        </div>

        <!-- DIRECT MESSAGES    -->
        <div class="lpanel-list__users">
            <h2 id="direct_messages_header" class="hoverable overflow-ellipsis entity_header" data-ng-click="openModal('user')" >
                <span translate>Direct Messages</span>
                <span class="lpanel-entity_more icon_add_member"></span>
            </h2>
            <ul id="im-list">
                <li class="member away cursor_pointer" ng-repeat="userEntity in visibleUsers = (userList | filter: {'visibility' : 'true'})" ng-class="{active: $state.params.entityId == userEntity.id}">
                    <a ui-sref="archives({entityType:'users',entityId: userEntity.id})" class="im_name not_user_colored channel_name" data-member-id="{{userEntity.id}}">
                        <i class="fa fa-times-circle entity-remove" data-ng-click="userEntity.visibility = false; $event.stopPropagation(); $event.preventDefault();"></i>
                        <span class="unread_highlight_U029JJYN1 unread_highlight hidden">0</span>
                        <span class="typing_indicator"></span>
                        <span class="inline-overflow-ellipsis left-panel__name">{{userEntity|getFirstLastNameOfUser}}</span>
                        <span class="badge left-panel_badge green_badge pull-right">{{userEntity.alarmCnt}}</span>

                    </a>
                </li>
            </ul>
            <span class="lpanel-list__more cursor_pointer" ng-show="(userList | filter : {'visibility' : false}).length > 0" data-ng-click="openModal('user')">
                {{ (userList | filter : {'visibility' : false}).length}} <span translate>more...</span>
            </span>
            <div class="clear-both"></div>
        </div>

    </div>

    <!-- USER INFO CONTAINER -->
    <div class="lpanel-user">
        <span data-toggle="dropdown">
            <img class="lpanel-user__avatar" data-ng-src="{{ server_uploaded + user.u_photoThumbnailUrl.smallThumbnailUrl }}">
            <div class="lpanel-user__container">
                <span class="lpanel-user__name inline-overflow-ellipsis">{{ user | getFirstLastNameOfUser }}</span>
            </div>
            <i class="fa fa-caret-up lpanel-user__more" ></i>
        </span>
        <ul class="dropdown-menu green_dropdown lpanel-user__dropdown" role="menu">
            <li role="presentation">
                <a data-ng-click="logout()" role="menuitem" tabindex="-1" ng-controller="authController">
                    <span class="icon_signout"></span><span translate>Sign Out</span>
                </a>
            </li>
            <li role="presentation">
                <a data-ng-click="openModal('invite');" role="menuitem" tabindex="-1">
                    <i class="fa fa-envelope-o"></i><span translate>Invite Others</span>
                </a>
            </li>
            <li role="presentation">
                <a data-ng-click="openModal('profile');" role="menuitem" tabindex="-1">
                    <i class="fa fa-user"></i><span translate>Profile</span>
                </a>
            </li>
        </ul>
    </div>

</aside>

<div ui-view="headerpanel"></div>
<div ui-view="centerpanel" class="cpanel" ng-class="{'rpanel-show': $state.includes('**.files.**')}"></div>
